<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--  Essential META Tags -->
    <meta property="og:title" content="Garashko EG" />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://ahmedkilany123.github.io/GP-Garashko/assets/images/logo.png"
    />
    <meta
      property="og:url"
      content="https://ahmedkilany123.github.io/GP-Garashko"
    />
    <meta name="twitter:card" content="summary_large_image" />

    <!--  Non-Essential, But Recommended -->
    <meta
      property="og:description"
      content="The cleanliness and safety of your car with Garashko"
    />
    <meta property="og:site_name" content="Garashko" />
    <meta name="twitter:image:alt" content="Garashko image" />

    <!--  Non-Essential, But Required for Analytics -->
    <meta property="fb:app_id" content="61557761423216" />
    <meta name="twitter:site" content="@garashko_eg" />

    <title>parks</title>

    <!-- 
    - favicon
  -->
    <link
      rel="shortcut icon"
      href="./assets/images/logo.png"
      type="image/svg+xml"
    />

    <!-- 
    - custom css link
  -->
    <link rel="stylesheet" href="./assets/css/style.css" />

    <!-- font awesome  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- 
    - google font link
  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      .parks {
        background: var(--cultured-2);
        padding-block: var(--section-padding);
      }
      .grid-boxes {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        .box {
          position: relative;
          background: var(--white);
          padding: 40px 30px;
          box-shadow: var(--shadow-2);
          border-radius: 6px;

          img {
            width: 100%;
          }

          h3 {
            font-size: 26px;
            font-weight: 700;
            text-align: center;
          }
          p.location {
            display: flex;
            align-items: center;
            span.city {
              font-size: 14px;
              font-weight: 700;
              margin-right: 5px;
              color: var(--main-color);
              padding: 5px 10px;
              background: hsla(9, 100%, 62%, 0.1);
              width: max-content;
              border-radius: 50px;
            }
          }
          p.cridPrice {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
          }
          .btns {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            .btn {
              padding: 5px 10px;
            }
          }
        }
      }
    </style>
  </head>
  <body>
    <header class="header" data-header>
      <div class="overlay" data-overlay></div>

      <div class="header-top">
        <div class="container">
          <ul class="header-top-list">
            <li>
              <a href="mailto:garashko.eg@gmail.com" class="header-top-link">
                <ion-icon name="mail-outline"></ion-icon>

                <span>garashko.eg@gmail.com</span>
              </a>
            </li>

            <li>
              <a href="#" class="header-top-link">
                <ion-icon name="location-outline"></ion-icon>

                <address>Alexandria , Egypt</address>
              </a>
            </li>
          </ul>

          <div class="wrapper">
            <ul class="header-top-social-list">
              <li>
                <a
                  href="https://www.facebook.com/profile.php?id=61557761423216&mibextid=ZbWKwL"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-facebook"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://twitter.com/garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-twitter"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://www.instagram.com/garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-instagram"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://www.tiktok.com/@garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-tiktok"></ion-icon>
                </a>
              </li>
            </ul>

            <a href="#" class="btn">
              <ion-icon name="wallet-outline"></ion-icon>
              <p>0</p>
            </a>
          </div>
        </div>
      </div>

      <div class="header-bottom">
        <div class="container">
          <a href="#" class="logo">
            <img src="./assets/images/logo.png" alt="Garashko logo" />
          </a>

          <nav class="navbar" data-navbar>
            <div class="navbar-top">
              <a href="#" class="logo">
                <img src="./assets/images/logo.png" alt="Garashko logo" />
              </a>

              <button
                class="nav-close-btn"
                data-nav-close-btn
                aria-label="Close Menu"
              >
                <ion-icon name="close-outline"></ion-icon>
              </button>
            </div>

            <div class="navbar-bottom">
              <ul class="navbar-list">
                <li>
                  <a href="index.html" class="navbar-link" data-nav-link
                    >Home</a
                  >
                </li>

                <li>
                  <a href="#about" class="navbar-link" data-nav-link>About</a>
                </li>

                <li>
                  <a href="#service" class="navbar-link" data-nav-link
                    >Service</a
                  >
                </li>

                <li>
                  <a href="#property" class="navbar-link" data-nav-link
                    >Property</a
                  >
                </li>

                <li>
                  <a href="#blog" class="navbar-link" data-nav-link>Blog</a>
                </li>

                <li>
                  <a href="#contact" class="navbar-link" data-nav-link
                    >Contact</a
                  >
                </li>
              </ul>
            </div>
          </nav>

          <div class="header-bottom-actions">
            <button
              class="header-bottom-actions-btn"
              id="search-btn"
              aria-label="Search"
            >
              <ion-icon id="search-btn" name="search-outline"></ion-icon>

              <span>Search</span>
            </button>

            <a href="login.html">
              <ion-icon name="person-outline"></ion-icon>

              <span>Profile</span>
            </a>

            <button
              class="header-bottom-actions-btn"
              id="cart-btn"
              aria-label="Cart"
            >
              <ion-icon name="cart-outline"></ion-icon>

              <span>Cart</span>
            </button>

            <button
              class="header-bottom-actions-btn"
              data-nav-open-btn
              aria-label="Open Menu"
            >
              <ion-icon name="menu-outline"></ion-icon>

              <span>Menu</span>
            </button>

            <form action="" class="search-form">
              <input
                dir="auto"
                type="search"
                id="shearch-box"
                placeholder="search here..."
              />
              <label for="search-box" class="fas fa-search"></label>
            </form>

            <div class="shopping-cart">
              <div class="box">
                <i class="fas fa-trash"></i>
                <img src="assets/images/cash.png" alt="" />
                <div class="content">
                  <h3>50 points</h3>
                  <span class="price">50 Egp</span>
                  <span class="quantity"></span>
                </div>
              </div>
              <div class="box">
                <i class="fas fa-trash"></i>
                <img src="assets/images/cash.png" alt="" />
                <div class="content">
                  <h3>100 points</h3>
                  <span class="price">100 Egp</span>
                  <span class="quantity"></span>
                </div>
              </div>
              <div class="box">
                <i class="fas fa-trash"></i>
                <img src="assets/images/cash.png" alt="" />
                <div class="content">
                  <h3>150 points</h3>
                  <span class="price">150 Egp</span>
                  <span class="quantity"></span>
                </div>
              </div>
              <div class="total">total : 400 Egp</div>
              <a href="#" class="btn check-cart">check out</a>
            </div>

            <form action="" class="login-form">
              <h3>login now</h3>
              <input
                type="email"
                name="email"
                class="box"
                placeholder="your email"
              />
              <input
                type="password"
                name="password"
                class="box"
                placeholder="your password"
              />
              <p>forget your password ? <a href="#">click here</a></p>
              <p>don't have acount ? <a href="login.html">creat now</a></p>
              <input type="submit" class="btn btn-log" value="login" />
            </form>
          </div>
        </div>
      </div>
    </header>

    <main>
      <article>
        <section class="parks">
          <div class="container">
            <div class="grid-boxes"></div>
          </div>
        </section>
        <br />
        <!-- ----------- -->
        <div class="container">
          <form id="addParkingForm">
            <label for="parking_name">Park Name:</label><br />
            <input type="text" id="parking_name" name="parking_name" /><br />
            <label for="city">City:</label><br />
            <input type="text" id="city" name="city" /><br />
            <label for="state">State:</label><br />
            <input type="text" id="state" name="state" /><br />
            <label for="address">Address:</label><br />
            <input type="text" id="address" name="address" /><br />
            <label for="totalPlace">Total Places</label><br />
            <input type="number" id="totalPlace" name="totalPlace" /><br />
            <label for="creditPointPerHour">credit Point Per Hour</label><br />
            <input
              type="number"
              id="creditPointPerHour"
              name="creditPointPerHour"
            /><br />
            <label for="locationMap">خريطة الموقع:</label><br />
            <input type="text" id="locationMap" name="locationMap" /><br />
            <label for="creditPointPerMonth">نقاط الائتمان في الشهر:</label
            ><br />
            <input
              type="number"
              id="creditPointPerMonth"
              name="creditPointPerMonth"
            /><br />
            <input type="submit" value="إضافة جراج" />
          </form>
        </div>
      </article>
    </main>

    <footer class="footer">
      <div class="footer-top">
        <div class="container">
          <div class="footer-brand">
            <a href="#" class="logo">
              <img src="./assets/images/logo-light.png" alt="Garashko logo" />
            </a>

            <p class="section-text">
              Lorem Ipsum is simply dummy text of the and typesetting industry.
              Lorem Ipsum is dummy text of the printing.
            </p>

            <ul class="contact-list">
              <li>
                <a href="#" class="contact-link">
                  <ion-icon name="location-outline"></ion-icon>

                  <address>Brooklyn, New York, United States</address>
                </a>
              </li>

              <li>
                <a href="tel:+0123456789" class="contact-link">
                  <ion-icon name="call-outline"></ion-icon>

                  <span>+0123-456789</span>
                </a>
              </li>

              <li>
                <a href="mailto:contact@Garashko.com" class="contact-link">
                  <ion-icon name="mail-outline"></ion-icon>

                  <span>contact@Garashko.com</span>
                </a>
              </li>
            </ul>

            <ul class="social-list">
              <li>
                <a
                  href="https://www.facebook.com/profile.php?id=61557761423216&mibextid=ZbWKwL"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-facebook"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://twitter.com/garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-twitter"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://www.instagram.com/garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-instagram"></ion-icon>
                </a>
              </li>

              <li>
                <a
                  href="https://www.tiktok.com/@garashko_eg"
                  class="header-top-social-link"
                  target="_blank"
                >
                  <ion-icon name="logo-tiktok"></ion-icon>
                </a>
              </li>
            </ul>
          </div>

          <div class="footer-link-box">
            <ul class="footer-list">
              <li>
                <p class="footer-list-title">Company</p>
              </li>

              <li>
                <a href="#" class="footer-link">About</a>
              </li>

              <li>
                <a href="#" class="footer-link">Blog</a>
              </li>

              <li>
                <a href="#" class="footer-link">All Products</a>
              </li>

              <li>
                <a href="#" class="footer-link">Locations Map</a>
              </li>

              <li>
                <a href="#" class="footer-link">FAQ</a>
              </li>

              <li>
                <a href="#" class="footer-link">Contact us</a>
              </li>
            </ul>

            <ul class="footer-list">
              <li>
                <p class="footer-list-title">Services</p>
              </li>

              <li>
                <a href="#" class="footer-link">Order tracking</a>
              </li>

              <li>
                <a href="#" class="footer-link">Wish List</a>
              </li>

              <li>
                <a href="#" class="footer-link">Login</a>
              </li>

              <li>
                <a href="#" class="footer-link">My account</a>
              </li>

              <li>
                <a href="#" class="footer-link">Terms & Conditions</a>
              </li>

              <li>
                <a href="#" class="footer-link">Promotional Offers</a>
              </li>
            </ul>

            <ul class="footer-list">
              <li>
                <p class="footer-list-title">Customer Care</p>
              </li>

              <li>
                <a href="#" class="footer-link">Login</a>
              </li>

              <li>
                <a href="#" class="footer-link">My account</a>
              </li>

              <li>
                <a href="#" class="footer-link">Wish List</a>
              </li>

              <li>
                <a href="#" class="footer-link">Order tracking</a>
              </li>

              <li>
                <a href="#" class="footer-link">FAQ</a>
              </li>

              <li>
                <a href="#" class="footer-link">Contact us</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="container">
          <p class="copyright">
            &copy; 2024 <a href="#">Garashko</a>. All Rights Reserved
          </p>
        </div>
      </div>
    </footer>

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script>
      const token = JSON.parse(localStorage.getItem("token"));

      function addPark() {
        document
          .getElementById("addParkingForm")
          .addEventListener("submit", function (event) {
            event.preventDefault();

            // تحويل قيمة locationMap إلى كائن
            let locationMapValue = document.getElementById("locationMap").value;
            let locationMapObject = {};
            try {
              locationMapObject = JSON.parse(locationMapValue);
            } catch (error) {
              console.error("Parsing error:", error);
            }

            let data = {
              parking_name: document.getElementById("parking_name").value,
              city: document.getElementById("city").value,
              state: document.getElementById("state").value,
              address: document.getElementById("address").value,
              totalPlace: document.getElementById("totalPlace").value,
              creditPointPerHour:
                document.getElementById("creditPointPerHour").value,
              locationMap: locationMapObject, // استخدام الكائن هنا
              creditPointPerMonth: document.getElementById(
                "creditPointPerMonth"
              ).value,
            };

            fetch("https://gara4ko-p8wm.onrender.com/api/v1/parking", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                token: token,
              },
              body: JSON.stringify(data),
            })
              .then((response) => response.json())
              .then((data) => console.log(data))
              .catch((error) => console.error("Error:", error));
          });
      }

      function ParkingData() {
        const gridBoxes = document.querySelector(".grid-boxes");

        fetch("https://gara4ko-p8wm.onrender.com/api/v1/parking", {
          method: "GET",
          headers: {
            Authorization: `Bearer ${localStorage.getItem("token")}`,
          },
        })
          .then((response) => response.json())
          .then((data) => {
            console, console.log(data);
            for (let i = 0; i < data.data.length; i++) {
              const parking = data.data[i];

              const box = document.createElement("div");
              box.className = "box";

              box.innerHTML = `
    <img src="https://i.ibb.co/kx7BNHB/service-1.png" alt="">
    <h3 class="parkName">${parking.parking_name}</h3>
    <p class="location"><span class="city">${parking.location.city}</span>${parking.location.address}</p>
    <p class="cridPrice"> ${parking.creditPointPerHour} <span class="crid">cridet point per hour</span></p>
    <div class="btns">
      <a href="#" class="btn">find in map</a>
      <a href="single_park.html?id=${parking._id}" class="btn">ticket now</a>
    </div>
  `;

              gridBoxes.appendChild(box);
            }
          })
          .catch((error) => console.error("Error:", error));
      }

      ParkingData();
      addPark();
    </script>
    <script src="assets/js/script.js"></script>
  </body>
</html>
